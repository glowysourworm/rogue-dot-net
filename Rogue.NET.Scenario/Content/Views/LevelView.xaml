<UserControl x:Class="Rogue.NET.Scenario.Views.LevelView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:prism="http://www.codeplex.com/prism"
             xmlns:local="clr-namespace:Rogue.NET.Scenario.Views">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/Rogue.NET.Common;component/Resource/Dictionaries/ShinyButton.xaml" />
                <ResourceDictionary>
                    <Style x:Key="CanvasBorderStyle" TargetType="Border">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsObjectiveAcheived}" Value="False">
                                <Setter Property="BorderBrush" Value="Silver" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding IsObjectiveAcheived}" Value="True">
                                <Setter Property="BorderBrush">
                                    <Setter.Value>
                                        <LinearGradientBrush>
                                            <GradientStop Offset="0" Color="Red" />
                                            <GradientStop Offset="0.2" Color="Orange" />
                                            <GradientStop Offset="0.4" Color="Yellow" />
                                            <GradientStop Offset="0.6" Color="Green" />
                                            <GradientStop Offset="0.8" Color="Blue" />
                                            <GradientStop Offset="1" Color="Purple" />
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="BorderThickness" Value="2" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="250" />
        </Grid.ColumnDefinitions>

        <ContentControl prism:RegionManager.RegionName="StatusCtrlRegion" VerticalAlignment="Top" />

        <Border x:Name="CanvasBorder" Style="{StaticResource CanvasBorderStyle}" ClipToBounds="True" Grid.Column="1" Margin="8, 0, 0, 0" BorderThickness="1">
            <Grid>
                <ContentControl prism:RegionManager.RegionName="LevelCanvasRegion" />
                <ContentControl prism:RegionManager.RegionName="LevelCompassRegion" 
                                Margin="10"
                                VerticalAlignment="Top" 
                                HorizontalAlignment="Left" />
            </Grid>
        </Border>

        <ContentControl prism:RegionManager.RegionName="PlayerSubpanelRegion"  Grid.Column="2" VerticalAlignment="Stretch" />

    </Grid>
</UserControl>
