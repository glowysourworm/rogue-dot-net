<UserControl x:Class="Rogue.NET.ScenarioEditor.Views.Assets.SharedControl.AttackAttributeListControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:sharedControl="clr-namespace:Rogue.NET.ScenarioEditor.Views.Assets.SharedControl"
             xmlns:system="clr-namespace:System;assembly=mscorlib">
    <UserControl.Resources>
        <ResourceDictionary Source="pack://application:,,,/Rogue.NET.Core;component/Resource/Converter.xaml" />
    </UserControl.Resources>
    <StackPanel>

        <!-- Attack Attribute ComboBox -->
        <Grid Margin="10">
            
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                <TextBlock Text="Scenario Attack Attributes" Foreground="White" FontSize="20" />
                <TextBlock x:Name="LimitTB" Visibility="Collapsed" Foreground="White" FontSize="20" Margin="10, 0, 0, 0">
                    <Run Text=" (Limit of " />
                    <Run Text="{Binding AttackAttributeCountLimit, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=UserControl}}" />
                    <Run Text=")" />                    
                </TextBlock>
            </StackPanel>
            
            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                <ComboBox x:Name="AttackAttributeCB" 
                          Width="300">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <Grid Margin="1">
                                <Image Width="15" Height="22.5" HorizontalAlignment="Left">
                                    <Image.Source>
                                        <MultiBinding Converter="{StaticResource SymbolImageSourceConverter}">
                                            <MultiBinding.ConverterParameter>
                                                <system:Double>1.5</system:Double>
                                            </MultiBinding.ConverterParameter>
                                            <Binding Path="SymbolDetails.CharacterColor" />
                                            <Binding Path="SymbolDetails.CharacterSymbol" />
                                            <Binding Path="SymbolDetails.CharacterSymbolCategory" />
                                            <Binding Path="SymbolDetails.CharacterScale" />
                                            <Binding Path="SymbolDetails.Symbol" />
                                            <Binding Path="SymbolDetails.SymbolHue" />
                                            <Binding Path="SymbolDetails.SymbolSaturation" />
                                            <Binding Path="SymbolDetails.SymbolLightness" />
                                            <Binding Path="SymbolDetails.SymbolScale" />
                                            <Binding Path="SymbolDetails.SymbolUseColorMask" />
                                            <Binding Path="SymbolDetails.SmileyExpression" />
                                            <Binding Path="SymbolDetails.SmileyAuraColor" />
                                            <Binding Path="SymbolDetails.SmileyBodyColor" />
                                            <Binding Path="SymbolDetails.SmileyLineColor" />
                                            <Binding Path="SymbolDetails.GameSymbol" />
                                            <Binding Path="SymbolDetails.SymbolType" />
                                        </MultiBinding>
                                    </Image.Source>
                                </Image>
                                <TextBlock Text="{Binding Name}" Foreground="White" FontSize="18" VerticalAlignment="Center" Margin="30,0,0,0" />
                            </Grid>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
                <Button x:Name="AddButton" Click="AddButton_Click" Content="Add" Padding="6" Cursor="Hand" Foreground="White" />
            </StackPanel>
        </Grid>
        
        <!-- Attack Attribute List -->
        <ItemsControl ItemsSource="{Binding}" 
                      HorizontalAlignment="Stretch" 
                      HorizontalContentAlignment="Stretch"
                      ScrollViewer.VerticalScrollBarVisibility="Auto" 
                      Margin="10">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Border BorderBrush="LightGray" BorderThickness="0, 0.75" HorizontalAlignment="Stretch" Padding="5">
                        <Grid>
                            <sharedControl:AttackAttribute HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" />
                            <Button x:Name="RemoveButton" 
                                    Click="RemoveButton_Click"
                                    Content="Remove" 
                                    Padding="6" 
                                    Cursor="Hand" 
                                    Foreground="White" 
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Top" />
                        </Grid>
                    </Border>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

    </StackPanel>
</UserControl>
